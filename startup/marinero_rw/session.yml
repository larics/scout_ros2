name: mbzirc
root: ./
startup_window: demo_setup
pre_window: |
  # humble
  scout_ws
  export AGV_NAMESPACE=scout
  export ROS_DOMAIN_ID=9
windows:
  - marinero_launch:
      panes:
        - ros2 launch marinero_launch marinero_joystick.launch.py
  - battery:
      panes:
        - ros2 run varta varta
        - ros2 topic echo /varta_soc
  - movella:
      layout: vertical
      panes:
        - ros2 launch $(pwd)/custom_launch/movella_custom.launch.py 
          namespace:=$AGV_NAMESPACE
        - ros2 launch $(pwd)/custom_launch/ntrip_custom_launch.py 
          ntrip_config:=$(pwd)/custom_config/ntrip_config.yaml
          namespace:=$AGV_NAMESPACE
  - estimation:
      layout: tiled
      panes:
        - ros2 launch uav_ros_estimators estimator_manager.launch.py 
          namespace:=$AGV_NAMESPACE 
          horizontal_config:=$(pwd)/custom_config/estimators/horizontal_estimator_config.yaml
          heading_config:=$(pwd)/custom_config/estimators/heading_estimator_config.yaml
          height_config:=$(pwd)/custom_config/estimators/height_estimator_config.yaml
          general_config:=$(pwd)/custom_config/estimators/general_estimator_config.yaml
          movella_gps_raw_fix_topic:=/scout/gnss
          movella_gps_vector3_topic:=/scout/filter/positionlla_unused
          magfield_topic:=/scout/imu/mag
          movella_imu_topic:=/scout/imu/data
          mavros_home_topic:=/scout/mavros/home_position/home
        - bash /root/scout_ros2/startup/scout_bag/publish_home.sh
  - bag:
    - cd ~/bags
